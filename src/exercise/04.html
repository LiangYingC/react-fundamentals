<!-- Creating custom components -->
<!-- http://localhost:3000/isolated/exercise/04.html -->

<body>
  <div id="root"></div>
  <script src="https://unpkg.com/react@16.13.1/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.13.1/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7.9.3/babel.js"></script>
  <script src="https://unpkg.com/prop-types@15.7.2/prop-types.js"></script>
  <script type="text/babel">
    // ğŸ¨ Make a function called `message` which returns the JSX we want to share
    // const element = (
    //   <div className="container">
    //     <div className="message">Hello World</div>
    //     <div className="message">Goodbye World</div>
    //   </div>
    // )

    /*
      ä¸€ã€åŸºç¤è§£ï¼šMessage is a function componentï¼Œwill return JSX

      function message({children}) {
        return <div className="message">{children}</div>
      }

      const element = (
        <div className="container">
          {message({children: 'Hello World'})}
          {message({children: 'Goodbye World'})}
        </div>
      )
    */

    /*
      äºŒã€é€²éšè§£ä¹‹ä¸€ï¼šReact.createElement first argument can pass function ! åŸä¾†å¯ä»¥å‚³ function !

      function message({children, id}) {
        return (
          <div className="message" id={id}>
            {children}
          </div>
        )
      }

      const element = (
        <div className="container">
          {React.createElement(message, {children: 'Hello World', id: '1'})}
          {React.createElement(message, {children: 'Goodbye World', id: '2'})}
        </div>
      )
    */

    /* ä¸‰ã€é€²éšè§£ä¹‹äºŒï¼š replace React.createElement with JSX
      // Like can replace React.createElement('div',...) with <div>...</div>
      function Message({children}) {
        return <div className="message">{children}</div>
      }
      const element = (
        <div className="container">
          <Message>Hello World</Message>
          <Message>Goodbye World</Message>
        </div>
      )

      // Console log to see
      console.log(<Message>Hello World</Message>)
      console.log(React.createElement(Message, {children: 'Hello World'}))

      both log value is :
      {
        $$typeof: Symbol(react.element)
        key: null
        props:{
          children: "Hello World"
        }
        ref: null
        type: Æ’ Message(_ref)
        ...
      }

      but not same, cause object is store by reference.
    */

    /*
      // å››ã€é€²éšè§£ä¹‹ä¸‰ï¼š ç‚º custom component åŠ ä¸Š Prop Type
      const PropType = {
        // 0. å¯ä»¥ä½¿ç”¨ prop-types å¥—ä»¶ï¼Œå°±ä¸ç”¨è‡ªè¡Œå®£å‘Šï¼Œè©³æƒ…å¯ç ”ç©¶ï¼šhttps://npm.im/prop-typesã€‚
        // 1.ä¸‹é¢ç­‰åŒæ–¼ string: function string(props, propsName, componentName) { ... ã€‚
        string(props, propsName, componentName) {
          const propType = typeof props[propsName]
          if (propType !== 'string') {
            return new Error(
              `The ${componentName} needs the prop ${propsName} to be a type of string, but was passed a ${typeof props[
                propsName
              ]} `,
            )
          }
        },
      }

      function Message({greeting, name}) {
        return (
          <div className="message">
            {greeting} {name}
          </div>
        )
      }

      Message.propTypes = {
        // 0. Message.propTypes æ”¾åœ¨ render çš„ element å¾Œé¢å°±æœƒå¤±æ•ˆï¼Œä»¥ class ä¾†çœ‹ï¼Œä¸èƒ½æ”¾åœ¨ render() ä¹‹å¾Œã€‚
        // 1. åŸ·è¡Œåˆ° Message.propTypes æ™‚ï¼Œæœƒå‘¼å«ç‰©ä»¶å…§çš„å„å€‹é …ç›®ï¼Œæ­¤æ™‚å°±æœƒåˆ¤åˆ¥ type æ˜¯å¦æ­£ç¢ºã€‚
        // 2. propTypes ä¸¦éæ²’æœ‰ä»£åƒ¹ï¼Œå®ƒæœƒé€ æˆæ•ˆèƒ½ä¸Šçš„å•é¡Œï¼Œå› æ­¤åªæœƒåœ¨ dev é–‹ç™¼ç’°å¢ƒåŸ·è¡Œï¼Œåœ¨ production ç’°å¢ƒä¸¦ä¸æœƒåŸ·è¡Œã€‚(React Doc : For performance reasons, propTypes is only checked in development mode.)
        // 3. PropTypes are nice because it's a runtime, but you should probably be OK just using TypeScript, the static-type definitions that you have there.
        greeting: PropType.string,
        name: PropType.string
        
          //ã€ å¦‚æœå¿˜è¨˜ä¸Šé¢çš„éç¨‹ï¼Œå¯ä»¥è©¦è‘—æ‰“é–‹ä¸‹é¢é€™æ®µç†è§£ ã€‘ï¼š 

          // props(props, propsName, componentName) {
          //   console.log({props, propsName, componentName})
          //   // 0. æœƒå°å‡ºå…©æ¬¡ï¼Œå› ç‚º props ç‰©ä»¶æœ‰å…©å€‹ key value pairã€‚
          //   // 1. props : å‚³å…¥ Message çš„ props ç‰©ä»¶ï¼Œæ­¤ç‚º  {greeting: "Hello", name: "World"}ã€‚
          //   // 2. propsName : é€™å€‹ function çš„åç¨±ï¼Œè‡ªå®šç¾©ï¼Œæ­¤ç‚º propsã€‚
          //   // 3. componentName : é€™å€‹ component çš„åç¨± ï¼Œæ­¤ç‚º Messageã€‚
          // }

          // {props: {â€¦}, propsName: "props", componentName: "Message"}
          //   componentName: "Message"
          //   props: {greeting: "Hello", name: "World"}
          //   propsName: "props"
          // {props: {â€¦}, propsName: "props", componentName: "Message"}
          //   componentName: "Message"
          //   props: {greeting: "Goodbye", name: "World"}
          //   propsName: "props" 
      }
    */

    // äº”ã€é€²éšè§£ä¹‹ä¸‰ï¼š ä½¿ç”¨ React.Fragment è®“ custom component å¯ä»¥æœ‰é›™å­å±¤çµæ§‹
    // React Doc : Fragments let you group a list of children without adding extra nodes to the DOM.

    function Message({greeting, name}) {
      return (
        <div className="message">
          {greeting} {name}
        </div>
      )
    }

    Message.propTypes = {
      // prop-typesï¼šhttps://npm.im/prop-typesã€‚
      greeting: PropTypes.string.isRequired,
      name: PropTypes.string.isRequired,
    }

    const element = (
      // <> is same as  <React.Fragment>
      <>
        <Message greeting="Hello" name="World" />
        <Message greeting="Goodbye" name="World" />
      </>
    )

    ReactDOM.render(element, document.getElementById('root'))
  </script>
</body>
